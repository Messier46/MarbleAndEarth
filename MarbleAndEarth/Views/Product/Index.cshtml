@model IEnumerable<MarbleAndEarth.Models.Product>

@{
	ViewBag.Title = "Store Page";
}

<h2>Products Available</h2>
@if (User.IsInRole("Admin"))
{
	<a class="btn btn-primary" href="@Url.Action("Create","Admin")">Add a new Product</a>
}
<table class="table">
	<tr>
		<th>
			@Html.DisplayNameFor(model => model.Name)
		</th>

		<th>
			@Html.DisplayNameFor(model => model.Type)
		</th>

		<th>
			@Html.DisplayNameFor(model => model.Description)
		</th>

		<th></th>
	</tr>

	@if (Model != null)
	{
		foreach (var item in Model)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.Name)
				</td>

				<td>
					@Html.DisplayFor(modelItem => item.Type)
				</td>

				<td>
					@Html.DisplayFor(modelItem => item.Description)
				</td>

				<td>
					@Html.ActionLink("Details", "Details", new { id = item.Id })
				</td>
			</tr>
		}
	}
	@if (Model == null)
	{
		<h2>Sorry, no products available at this time</h2>
	}
</table>

